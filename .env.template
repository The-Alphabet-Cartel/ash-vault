# ======================================================= #
# Ash-Vault v5.0 Environment Variables Template
# ======================================================= #
# FILE VERSION: v5.0-6-1.0-1
# LAST MODIFIED: 2026-01-17
# CLEAN ARCHITECTURE: Compliant
# Repository: https://github.com/the-alphabet-cartel/ash-vault
# Community: The Alphabet Cartel - https://discord.gg/alphabetcartel | https://alphabetcartel.org
#
# USAGE:
#   1. Copy this file to .env
#   2. Modify values as needed
#   3. Environment variables OVERRIDE JSON config defaults
#
# ⚠️  SECRETS WARNING:
#   Do NOT put API tokens or passwords in this file!
#   Use Docker Secrets instead: ./secrets/
#   See secrets/README.md for setup instructions
#
# ------------------------------------------------------- #
# VARIABLE_NAME=value                                     # Description (default: X)
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# GLOBAL VARIABLES
# ======================================================= #
# ------------------------------------------------------- #
# USER/GROUP ID
# ------------------------------------------------------- #
# Set these to match your host user for correct file permissions.
# Find your IDs by running 'id' on your host system.
#
# Example output: uid=1000(PapaBearDoes) gid=1000(PapaBearDoes) ...
#   PUID=1000
#   PGID=1000
# ------------------------------------------------------- #
PUID=1000                                                 # User ID to run container as (default: 1000)
PGID=1000                                                 # Group ID to run container as (default: 1000)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# TIMEZONE - Used by Docker and the application
# ------------------------------------------------------- #
TZ=America/Los_Angeles                                    # Server timezone (default: UTC)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
FORCE_COLOR=1                                             # Force Color Logging for Non-TTY displays (I'm looking at you PuTTY!)
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# ASH-VAULT SERVER CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# ENVIRONMENT
# ------------------------------------------------------- #
VAULT_ENVIRONMENT=production                              # production, testing (default: production)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# HEALTH ENDPOINT SETTINGS
# ------------------------------------------------------- #
VAULT_HOST=0.0.0.0                                        # Host to bind to (default: 0.0.0.0)
VAULT_PORT=30886                                          # Health endpoint port (default: 30886)
VAULT_DEBUG=false                                         # Enable debug mode (default: false)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# LOGGING CONFIGURATION
# ------------------------------------------------------- #
VAULT_LOG_LEVEL=INFO                                      # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
VAULT_LOG_FORMAT=human                                    # Log format: json, human (default: human)
# Charter v5.2 colorized output; use 'json' for production log aggregators
VAULT_LOG_FILE=/app/logs/ash-vault.log                    # Log output file path (default: /app/logs/ash-vault.log)
VAULT_LOG_CONSOLE=true                                    # Enable console logging (default: true)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# MINIO CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# MinIO Port Settings
# ------------------------------------------------------- #
MINIO_API_PORT=30884                                      # MinIO S3 API port (default: 30884)
MINIO_CONSOLE_PORT=30885                                  # MinIO Web Console port (default: 30885)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# MinIO Connection Settings
# ------------------------------------------------------- #
# Note: Credentials are read from Docker secrets, not env vars
# See secrets/README.md for setup instructions
# ------------------------------------------------------- #
VAULT_MINIO_ENDPOINT=localhost                            # MinIO server hostname (default: localhost)
VAULT_MINIO_PORT=30884                                    # MinIO API port (default: 30884)
VAULT_MINIO_SECURE=false                                  # Use HTTPS (default: false)
# ------------------------------------------------------- #
# ------------------------------------------------------- #
# BUCKET NAMES
# ------------------------------------------------------- #
VAULT_BUCKET_ARCHIVES=ash-archives                        # Encrypted session archives (default: ash-archives)
VAULT_BUCKET_DOCUMENTS=ash-documents                      # Document backups (default: ash-documents)
VAULT_BUCKET_EXPORTS=ash-exports                          # PDF exports, reports (default: ash-exports)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ZFS CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# ZFS Pool and Dataset Settings
# ------------------------------------------------------- #
VAULT_ZFS_POOL=syn                                        # ZFS pool name (default: syn)
VAULT_ZFS_DATASET=syn/archives                            # ZFS dataset for archives (default: syn/archives)
VAULT_ZFS_MOUNTPOINT=/mnt/archives                        # Dataset mountpoint (default: /mnt/archives)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# BACKUP SCHEDULES (Cron Format)
# ======================================================= #
# ------------------------------------------------------- #
# Format: minute hour day-of-month month day-of-week
# Example: "0 3 * * *" = 3:00 AM daily
# ------------------------------------------------------- #
VAULT_SCHEDULE_SNAPSHOT_DAILY="0 3 * * *"                 # Daily snapshots (default: 3:00 AM)
VAULT_SCHEDULE_SNAPSHOT_WEEKLY="0 3 * * 0"                # Weekly snapshots (default: Sunday 3:00 AM)
VAULT_SCHEDULE_SNAPSHOT_MONTHLY="0 3 1 * *"               # Monthly snapshots (default: 1st of month 3:00 AM)
VAULT_SCHEDULE_REPLICATION_LOFN="0 4 * * *"               # Replication to Lofn (default: 4:00 AM daily)
VAULT_SCHEDULE_SYNC_B2="0 5 * * 0"                        # B2 cloud sync (default: Sunday 5:00 AM)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# RETENTION POLICY
# ======================================================= #
# ------------------------------------------------------- #
# How many snapshots to keep at each tier
# ------------------------------------------------------- #
VAULT_RETENTION_DAILY=7                                   # Keep 7 daily snapshots (default: 7)
VAULT_RETENTION_WEEKLY=4                                  # Keep 4 weekly snapshots (default: 4)
VAULT_RETENTION_MONTHLY=12                                # Keep 12 monthly snapshots (default: 12)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# REPLICATION CONFIGURATION (Tier 2 - Lofn)
# ======================================================= #
# ------------------------------------------------------- #
# ZFS replication to Lofn server
# ------------------------------------------------------- #
VAULT_LOFN_HOST=10.20.30.253                              # Lofn server IP (default: 10.20.30.253)
VAULT_LOFN_DATASET=backup/ash-vault                       # Target dataset on Lofn (default: backup/ash-vault)
VAULT_SSH_KEY_PATH=/root/.ssh/id_ed25519_lofn             # SSH key for Lofn (default: /root/.ssh/id_ed25519_lofn)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# BACKBLAZE B2 CONFIGURATION (Tier 1 - Cloud)
# ======================================================= #
# ------------------------------------------------------- #
# Cloud backup to Backblaze B2
# Note: Credentials are read from Docker secrets:
#   - secrets/b2_key_id
#   - secrets/b2_application_key
# ------------------------------------------------------- #
VAULT_B2_ENABLED=true                                     # Enable B2 cloud backup (default: true)
VAULT_B2_BUCKET=ash-vault-backup-alphabetcartel          # B2 bucket name (default: ash-vault-backup-alphabetcartel)
# ------------------------------------------------------- #
# ======================================================= #

# ======================================================= #
# ALERTING CONFIGURATION
# ======================================================= #
# ------------------------------------------------------- #
# Discord Webhook Alerting
# ------------------------------------------------------- #
VAULT_ALERTING_ENABLED=true                               # Enable Discord alerting (default: true)
VAULT_ALERT_ON_SUCCESS=false                              # Alert on backup success (default: false)
VAULT_ALERT_ON_FAILURE=true                               # Alert on backup failure (default: true)
#
# Note: Discord webhook URL should be in secrets/discord_alert_token
# See secrets/README.md for setup instructions
# ------------------------------------------------------- #
# ======================================================= #


# ======================================================= #
# ⚠️  SECRETS REMINDER
# ======================================================= #
# Do NOT put secrets in this file! Use Docker Secrets:
#
# Required for MinIO:
#   secrets/minio_root_user      - MinIO admin username
#   secrets/minio_root_password  - MinIO admin password
#
# Required for B2 Cloud Backup:
#   secrets/b2_key_id            - Backblaze B2 key ID
#   secrets/b2_application_key   - Backblaze B2 application key
#
# Optional:
#   secrets/discord_alert_token  - Discord webhook for alerts
#
# Example:
#   echo "ashadmin" > secrets/minio_root_user
#   openssl rand -base64 32 > secrets/minio_root_password
#   chmod 600 secrets/*
#
# See secrets/README.md for full instructions
# ======================================================= #


# ======================================================= #
# END OF CONFIGURATION
# ======================================================= #
